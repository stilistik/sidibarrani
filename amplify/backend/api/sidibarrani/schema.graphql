type Game @model {
  id: ID!
  name: String!
  teams: [Team] @connection(keyName: "byGame", fields: ["id"])
}

type Team @model @key(name: "byGame", fields: ["gameID"]) {
  id: ID!
  gameID: ID!
  players: [PlayerTeams] @connection(keyName: "byTeam", fields: ["id"])
}

type PlayerTeams
  @model(queries: null)
  @key(name: "byPlayer", fields: ["playerID", "teamID"])
  @key(name: "byTeam", fields: ["teamID", "playerID"]) {
  id: ID!
  playerID: ID!
  teamID: ID!
  player: Player! @connection(fields: ["playerID"])
  team: Team! @connection(fields: ["teamID"])
}

type Player @model {
  id: ID!
  name: String!
  teams: [PlayerTeams] @connection(keyName: "byPlayer", fields: ["id"])
}
